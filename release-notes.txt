BISDN Linux
v4.5.0 Release Notes
Date: 2022-03-15

! New in this release
- baseboxd: updated to version 1.11.1
- Linux kernel updated to version 5.15.22
- iproute2: udpated to version 5.16
- stp on bond interfaces is now fully supported and considered stable


! Experimental features
- baseboxd/OF-DPA: initial support added for creating and enabling Broadcom KNET interfaces.

! Bug fixes
- fixed bug related to terminaton MAC entries not being correctly removed on IP deletion (https://github.com/bisdn/basebox/issues/362)
- resolved STP issue where the initial STP state was missed, causing ports to forward/flood instead of blocking (https://github.com/bisdn/basebox/pull/357)
- fixed an issue where any reachable ip neighbor was assumed to be routable even if a route did not exist (https://github.com/bisdn/basebox/issues/364)
- ES202 (AS4630-54PE): fixed an issue preventing some of the 1G ports from transmitting packets

! Changed behaviour
iproute2: 'bridge -d vlan' must be used instead of 'bridge vlan database' to see per-vlan stp states

Changes between v4.4.1 and v4.5.0:

meta-ofdpa:
ofdpa: fix Makefile for accton-as7726-32x
ofdpa: as4630-54pe: fix 1G ports on PHY2/3
openbcm-gpl-modules: knet-bcm: implement link speed/duplex
openbcm-gpl-modules: knet: strip vlan tag if received untagged at port
openbcm-gpl-modules: add knet driver
ofdpa: enable knet support
ofdpa: pass module include path to SDK

meta-openembedded:
protobuf: Fix CVE-2021-22570
cryptsetup: Add runtime dependency on lvm2-udevrules for udev
graphviz: native: create /usr/lib/graphviz/config6 in populate_sysroot
nss: Add fix for CVE-2022-22747
strongswan: Add fix of CVE-2021-45079
nodejs: Fix for CVE-2021-44532
linuxptp: Update to 2.0.1
p7zip: fix for CVE-2018-5996
udisks2: Fix for CVE-2021-3802
dbus-daemon-proxy: add missing `return` statement
CVE-2021-4034: polkit Local privilege escalation in pkexec due to incorrect handling of argument vector
c-ares: bump PV in recipe to 1.16.1
wireshark: Update to 3.2.18
strongswan: Fix for CVE-2021-41990 and CVE-2021-41991
netcat: Set CVE_PRODUCT
apache2: upgrade 2.4.51 -> 2.4.52

meta-open-network-linux:
linux-yocto-onl/5.15: update to 5.15.25
onl: set branch for git repositories
linux-yocto-onl/5.15: update to 5.15.22

meta-switch:
distro: bump version to 4.5.0
baseboxd: bump version to 1.11.1
baseboxd: Bump version to 1.11.0
ryu: pcaplib.py: add option to flush each packet
baseboxd: Bump version to 1.10.5
libnl: don't merge IPv6 link local routes into one
baseboxd: Bump version to 1.10.3
libnl: fix rtnl_get_bridge_vlan and export all functions
mstpd: update to latest commit in patched mstpd branch 0.1.0+bisdn1
mstpd: switch to patched mstpd fork to build version 0.1.0+bisdn1
iproute2: udpate to latest 5.16
images/full: add rsync
baseboxd: bump version to 1.10.2
baseboxd: bump version to 1.10.0
baseboxd: Bump version to 1.9.29

meta-virtualization:
runc: change branch to main
go-fsnotify: switch to main branch

poky:
bind: update to 9.11.36
perf-tests: add bash into RDEPENDS (v5.12-rc5+)
tiff: Add backports for two CVEs from upstream
vim: Update to 8.2.4524 for further CVE fixes
sstate: inside the threadedpool don't write to the shared localdata
systemd: Ensure uid/gid ranges are set deterministically
asciidoc: update git repository
poky.conf: Bump version for 3.1.15 release
poky.conf: update tested distros
linux-yocto: update genericx86* to v5.4.178
docs: fix hardcoded link warning messages
ref-system-requirements.rst: update list of supported distros
uninative: Upgrade to 3.5
uninative: Add version to uninative tarball name
buildhistory.bbclass: create the buildhistory directory when needed
libxml-parser-perl: Add missing RDEPENDS
cml1.bbclass: Handle ncurses-native being available via pkg-config
bootchart2: Add missing python3-math dependency
wireless-regdb: upgrade 2021.08.28 -> 2022.02.18
Revert "cve-check: add lockfile to task"
cve-check: get_cve_info should open the database read-only
coreutils: remove obsolete ignored CVE list
expat: fix CVE-2022-25315
expat: fix CVE-2022-25314
expat: fix CVE-2022-25313
expat: fix CVE-2022-25236
expat: fix CVE-2022-25235
go: fix CVE-2022-23772
go: fix CVE-2022-23806
libarchive: Fix for CVE-2021-36976
grub: add a fix for a crash in scripts
grub: avoid a NULL pointer dereference
grub: add a fix for a NULL pointer dereference
grub: fix incorrect use of a negative value
grub: add a fix for an incorrect cast
grub: add a fix for NULL pointer dereference
grub: add a check for a NULL pointer
grub: avoid a memory leak
grub: add a fix for a memory leak
grub: fix checking for NULL
grub: remove dead code
grub: test for malformed jpeg files
grub: fix a possible integer overflow
grub: fix multiple integer overflows
grub: fix an integer overflow
grub: remove unneeded return value
grub: fix a memory leak
grub: add a fix for a memory leak
grub: add a fix for a memory leak
grub: add a fix for a possible NULL dereference
grub: add a fix for a possible unintended sign extension
grub: add a fix for a memory leak
grub: fix an error check
grub: add a fix for possible integer overflows
grub: add a fix for a memory leak
grub: add a fix for a possible negative shift
grub: add a fix for a length check
grub: fix an integer overflow
grub: fix a memory leak
grub: fix a memory leak
grub: fix a memory leak
grub: add a missing NULL check
grub: add structure initialization in zstd
grub: add a fix for unnecessary assignements
grub: fix an unitialized re_token in gnulib
grub: add a fix for NULL pointer dereference
grub: add a fix a NULL pointer dereference in gnulib
grub: fix an unitialized token in gnulib
grub: add a fix for unused variable in gnulib
grub: add a fix for a possible NULL pointer dereference
grub: fix memory leak at error in grub_efi_get_filename()
grub: add a fix for malformed device path handling
grub: fix wrong handling of argc == 0
grub: fix a dangling memory pointer
grub: add a fix for a possible NULL dereference
grub: fix a memory leak
puzzles: Upstream changed to main branch for development
ruby: 2.7.4 -> 2.7.5
tiff: fix for CVE-2022-22844
openssl: Add fix for CVE-2021-4160
vim: Upgrade 8.2.4314 -> 8.2.4424
vim: Upgrade 4269 -> 4134
vim: upgrade to patch 4269
vim: update to include latest CVE fixes
vim: do not report upstream version check as broken
vim: upgrade to 8.2 patch 3752
vim: set PACKAGECONFIG idiomatically
Revert "vim: fix CVE-2021-4069"
ruby: fix DEPENDS append
ruby: correctly set native/target dependencies
default-distrovars.inc: Switch connectivity check to a yoctoproject.org page
sdk: fix search for dynamic loader
linux-firmware: upgrade 20211216 -> 20220209
linux-yocto/5.4: update to v5.4.178
linux-yocto/5.4: update to v5.4.176
linux-yocto/5.4: update to v5.4.173
cmake: remove bogus CMAKE_LDFLAGS_FLAGS definition from toolchain file
rpm: fix intermittent compression failure in do_package_write_rpm
devtool: deploy-target: Remove stripped binaries in pseudo context
recipetool: Fix circular reference in SRC_URI
cve-check: create directory of CVE_CHECK_MANIFEST before copy
freetype: add missing CVE tag CVE-2020-15999
binutils: Fix CVE-2021-45078
lighttpd: backport a fix for CVE-2022-22707
wpa-supplicant: fix CVE-2022-23303-4
connman: fix CVE-2021-33833
connman: fix CVE-2022-23098
connman: fix CVE-2022-23096-7
expat: fix CVE-2022-23990
bitbake: tests/fetch: Handle upstream master -> main branch change
documentation: update for 3.1.14 release
releases: update to include 3.1.14
libusb1: correct SRC_URI
linux-firmware: Add CLM blob to linux-firmware-bcm4373 package
libcap: Use specific BSD license variant
shadow-sysroot: sync license with shadow
shadow: Use specific BSD license variant
glib-2.0: Use specific BSD license variant
e2fsprogs: Use specific BSD license variant
tzdata: Remove BSD License specifier
lsof: correct LICENSE
common-licenses: add Spencer-94
sstate: A third fix for for touching files inside pseudo
binutils: Backport Include members in the variable table used when resolving DW_AT_specification tags.
util-linux: Fix for CVE-2021-3995 and CVE-2021-3996
expat: add missing Upstream-status, CVE tag and sign-off to CVE-2021-46143.patch
expat: fix CVE-2022-23852
ghostscript: fix CVE-2021-45949
grub: add a fix for CVE-2020-25647
grub: add a fix for CVE-2020-25632
systemd: Fix CVE-2021-3997
glibc: update to lastest 2.31 release HEAD
build-appliance-image: Update to dunfell head revision
poky.conf: Bump version for 3.1.14 release
bitbake: hashserv: specify loop for asyncio in python < 3.6
Revert "weston: Use systemd notify,"
lttng-tools: Add missing DEPENDS on bison-native
kernel: introduce python3-dtschema-wrapper
linux-yocto/5.4: update to v5.4.172
linux-yocto/5.4: update to v5.4.171
linux-yocto/5.4: update to v5.4.170
linux-yocto/5.4: update to v5.4.169
speex: fix CVE-2020-23903
expat: fix CVE-2021-46143
expat: fix CVE-2021-45960
expat fix CVE-2022-22822 through CVE-2022-22827
glibc: Add fix for data races in pthread_create and TLS access
parselogs: add a couple systemd false positives
xserver-xorg: whitelist two CVEs
expat: Update HOMEPAGE to current url
wic: use shutil.which
wic: misc: Do not find for executables in ASSUME_PROVIDED
xserver-xorg: update CVE_PRODUCT
cve-check: add lockfile to task
cve-update-db-native: use fetch task
oeqa/selftest/cases/tinfoil.py: increase timeout 60->120s test_wait_event
valgrind: skip flakey ptest (gdbserver_tests/hginfo)
bitbake: tests/fetch: Drop gnu urls from wget connectivity test
bitbake: utils: Update to use exec_module() instead of load_module()

